import { ChallengeTitle } from "../../../../components/Challenges/ChallengeTitle";
import { RequirementList } from "../../../../components/Challenges/RequirementList";
import { Requirement } from "../../../../components/Challenges/Requirement";

<ChallengeTitle>sBPF Assembly Slippage</ChallengeTitle>

This challenge will require you understanding the [challenge](./challenge) and applying what you've learned to create a slightly more sophisticated program.

Instead of simply supporting an SPL Token account, we need to *also* add support for Token2022. This means handling for dynamic account lengths.

Consider using the tooling provided at [sbpf.xyz](https://sbpf.xyz) to generate the offsets required for you to complete this task.

Create a program only has one instruction. It must:

- Take in a single SPL or Token2022 Token account
- Take in a u64 (8-byte) minimum balance in instruction data
- Dynamically calculate the offset to the minimum balance
- If slippage is exceeded, log the string `Slippage exceeded` and return error code 1
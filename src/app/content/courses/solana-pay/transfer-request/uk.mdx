import { ArticleSection } from "../../../../components/ArticleSection/ArticleSection";

# Запити на переказ

Запити на переказ — це найпростіший спосіб оплати в Solana Pay, розроблений для простих переказів SOL або SPL токенів без необхідності взаємодії з сервером. Коли користувач сканує QR-код або натискає на посилання запиту на переказ, його гаманець має все необхідне для створення та виконання транзакції негайно.

Краса запитів на переказ полягає в їхній простоті: вся інформація про платіж закодована безпосередньо в URL, що робить їх повністю автономними та миттєво виконуваними.

<ArticleSection name="Структура URL та параметри" id="url-structure" level="h2" />

URL-адреси запитів на переказ дотримуються стандартизованого формату, який може інтерпретувати будь-який гаманець Solana:

```
solana:<recipient>?<optional-query-params>
```

**Обов'язковий параметр:**
- `recipient`: Публічний ключ у кодуванні base58, що представляє гаманець отримувача. Це єдине обов'язкове поле, яке забезпечує прямі платежі від клієнта до продавця без посередників.

**Необов'язкові параметри:**
- **`amount`**: Визначає точну суму переказу як десяткове значення. Без цього гаманці пропонують користувачам ввести суму вручну — ідеально для пожертв або гнучких сценаріїв оплати.
- **`spl-token`**: Адреса монети для переказів SPL токенів. Перетворює переказ SOL на переказ будь-якого токена, від платежів USDC до користувацьких токенів лояльності.
- **`reference`**: Унікальний ідентифікатор для відстеження платежів у блокчейні. Оскільки продавці не контролюють підписи транзакцій, посилання служать ідентифікаторами для звірки платежів та підтримки клієнтів.
- **`label` та `message`**: Рядки для користувача, які пояснюють контекст платежу. Мітка зазвичай ідентифікує продавця, а повідомлення описує конкретну покупку.
- **`memo`**: Створює запис у блокчейні за допомогою програми memo Solana. Цінно для дотримання вимог, бухгалтерського обліку або надання постійного контексту транзакції.

### Приклад

Ось запит на переказ 1 SOL, який демонструє практичне використання параметрів:

```
solana:22222222222222222222222222222222222222222222?amount=1&label=Blueshift%20Subscription&message=1%20Month&memo=Order12345&reference=abc123def456
```

Для бізнесу, що приймає стейблкоїни, ось запит на переказ USDC:

```
solana:22222222222222222222222222222222222222222222?amount=200&spl-token=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v&label=Blueshift%20Subscription&message=1%20Month&memo=Order12345&reference=abc123def456
```

<ArticleSection name="Коли використовувати запити на переказ" id="when-to-use" level="h2" />

Запити на переказ відмінно працюють у сценаріях, де деталі платежу визначені заздалегідь і не змінюються:

**Ідеальні випадки використання:**
- **Оформлення замовлень в електронній комерції** з фіксованими цінами
- **Кампанії зі збору пожертв**, де користувачі обирають суми
- **Платежі за підписками** з відомими сумами
- **Системи точок продажу** для особистих транзакцій
- **Оплата рахунків** з конкретними сумами

**Ключові переваги:**
- **Неінтерактивний характер:** Після створення ці URL-адреси працюють незалежно від ваших серверів. Ідеально для ситуацій, коли мережеве з'єднання може бути ненадійним або коли ви хочете мінімізувати залежність від інфраструктури.
- **Гарантоване виконання:** Параметри платежу зафіксовані в URL-адресі, що гарантує, що клієнти платять саме те, що ви очікуєте, без динамічних змін цін.
- **Можливість офлайн-роботи:** URL-адреси можуть генеруватися локально на пристроях, таких як термінали POS, що дозволяє здійснювати платежі навіть якщо серверні системи тимчасово недоступні.
- **Зменшене навантаження на сервер:** Не потрібні API-виклики під час обробки платежів, що робить їх високомасштабованими для сценаріїв з великим обсягом.
- **Універсальна сумісність:** Будь-який гаманець Solana може обробляти ці запити без необхідності інтеграції з конкретними гаманцями.

Розгляньте запити на переказ, коли вам потрібні гарантовані суми платежів, ви хочете зменшити залежність від серверів або вам потрібен спосіб оплати, який надійно працює за будь-яких мережевих умов.

<ArticleSection name="Приклад" id="example" level="h2" />

Як повноцінний приклад, ви можете використати [Payment Flow Merchant Example](https://github.com/solana-foundation/solana-pay/blob/master/core/example/payment-flow-merchant/main.ts) від Solana Foundation
